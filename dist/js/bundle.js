(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.querySelector(".tabheader__items"),t=document.querySelectorAll(".tabheader__item"),n=document.querySelectorAll(".tabcontent");function o(){n.forEach((e=>{e.classList.add("hide"),e.classList.remove("show","fade")})),t.forEach((e=>{e.classList.remove("tabheader__item_active")}))}function a(e=0){t[e].classList.add("tabheader__item_active"),n[e].classList.add("show","fade"),n[e].classList.remove("hide")}o(),a(),e.addEventListener("click",(e=>{e.target&&e.target.classList.contains("tabheader__item")&&t.forEach(((t,n)=>{e.target==t&&(o(),a(n))}))}))}(),function(){const e=document.querySelectorAll(".offer__slide"),t=document.querySelector(".offer__slider"),n=document.querySelector(".offer__slider-next"),o=document.querySelector(".offer__slider-prev"),a=document.querySelector(".offer__slider-wrapper-2"),c=document.querySelector(".offer__slider-wrapper"),s=document.querySelector("#total"),r=document.querySelector("#current"),i=window.getComputedStyle(c).width;let l=[],d=0,u=1;function m(e){return+e.replace(/\D/g,"")}t.style.position="relative",a.style.width=100*e.length+"%",a.style.transition="0.5s all",e.length<10?(s.textContent=`0${e.length}`,r.textContent=`0${u}`):(s.textContent=e.length,r.textContent=u),n.addEventListener("click",(()=>{d==m(i)*(e.length-1)?d=0:d+=m(i),a.style.transform=`translateX(-${d}px)`,u==e.length?u=1:u++,l.forEach((e=>e.style.opacity="0.5")),l[u-1].style.opacity="1",e.length<10?r.textContent=`0${u}`:r.textContent=u})),o.addEventListener("click",(()=>{0==d?d=m(i)*(e.length-1):d-=m(i),a.style.transform=`translateX(-${d}px)`,1==u?u=e.length:u--,l.forEach((e=>e.style.opacity="0.5")),l[u-1].style.opacity="1",e.length<10?r.textContent=`0${u}`:r.textContent=u}));const h=document.createElement("ol");h.classList.add("carousel-indicators"),t.append(h);for(let t=0;t<e.length;t++){const e=document.createElement("li");e.setAttribute("data-carousel-indicators",t+1),e.classList.add("dot"),h.append(e),0==t&&(e.style.opacity="1"),l.push(e)}l.forEach((t=>{t.addEventListener("click",(()=>{let n=t.getAttribute("data-carousel-indicators");u=n,d=m(i)*(n-1),a.style.transform=`translateX(-${d}px)`,l.forEach((e=>e.style.opacity="0.5")),t.style.opacity="1",e.length<10?r.textContent="0"+ +u:r.textContent=+u}))}))}(),function(){function e(e){return e>0&&e<10?"0"+e:e}!function(t,n){const o=document.querySelector(".timer"),a=o.querySelector("#days"),c=o.querySelector("#hours"),s=o.querySelector("#minutes"),r=o.querySelector("#seconds"),i=setInterval(l,1e3);function l(){const t=function(e){const t=Date.parse("2023-03-31")-Date.parse(new Date);return{total:t,days:Math.floor(t/1e3/60/60/24),hours:Math.floor(t/1e3/60/60%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}();a.innerHTML=e(t.days),c.innerHTML=e(t.hours),s.innerHTML=e(t.minutes),r.innerHTML=e(t.seconds),t.total<=0&&clearInterval(i)}l()}()}(),function(){const e=document.querySelectorAll('[data-btn="1"]'),t=document.querySelector("[data-modal]"),n=document.querySelector("[data-close]");function o(){t.classList.add("show"),t.classList.remove("hide")}function a(){t.classList.add("hide"),t.classList.remove("show")}e.forEach((e=>{e.addEventListener("click",(()=>{o()}))})),n.addEventListener("click",a),t.addEventListener("click",(e=>{e.target===t&&a()})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&t.classList.contains("show")&&a()}));const c=setInterval((function(){o(),clearInterval(c)}),2e3);window.addEventListener("scroll",(()=>{window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&o()})),window.addEventListener("scroll",(()=>{var e=window.pageYOffset/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;document.getElementById("myBar").style.width=e+"%"})),window.addEventListener("scroll",(()=>{400==window.pageYOffset&&o()}))}(),function(){class e{constructor(e,t,n,o,a,c,...s){this.img=t,this.h3=o,this.menuItemDescr=a,this.menuItemTotalSpan=c,this.selector=s,this.parent=document.querySelector(e),this.altimg=n}NewMenuItem(){const e=document.createElement("div");0==this.selector.length?(this.selector="menu__item",e.classList.add(this.selector)):this.selector.forEach((t=>{e.classList.add(this.selector)})),e.innerHTML+=`   <img src= ${this.img} alt=${this.altimg}>\n                    <h3 class="menu__item-subtitle">${this.h3}</h3>\n                    <div class="menu__item-descr">${this.menuItemDescr}</div>\n                    <div class="menu__item-divider"></div>\n                    <div class="menu__item-price">\n                        <div class="menu__item-cost">Цена:</div>\n                        <div class="menu__item-total"><span>${this.menuItemTotalSpan}</span>гр/день</div>\n                    </div>`,this.parent.append(e)}}fetch("http://localhost:3000/menu").then((e=>e.json())).then((t=>{t.forEach((t=>{new e(".menu .container",t.img,t.altimg,t.title,t.descr,t.price).NewMenuItem()}))}))}(),function(){const e=document.querySelectorAll("form"),t=document.querySelector("[data-modal]");function n(e){const n=document.querySelector(".modal__content");n.remove();const o=document.createElement("div");document.querySelector(".modal__dialog").append(o),o.classList.add("modal__content"),o.innerHTML=`\n        <div data-close class="modal__close">&times;</div>\n        <div class="modal__title">${e}</div> \n        <img src="icons/spinner.svg" alt="spinner">\n        `,o.querySelector("img").style.cssText="display: block;\n        margin: 10px auto;",setTimeout((function(){t.classList.add("hide"),t.classList.remove("show"),o.remove(),document.querySelector(".modal__dialog").append(n)}),2e3)}e.forEach((e=>{var t;(t=e).addEventListener("submit",(e=>{e.preventDefault();const o=new FormData(t);(async(e,t)=>{let n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:t});return await n.json()})(0,JSON.stringify(Object.fromEntries(o.entries()))).then((e=>{console.log(e),n("Данные отправлены. Вскоре мы с Вами свяжемся!")})).catch((()=>{n("Ошибка")})).finally((()=>{t.reset()}))}))}))}(),function(){const e=document.querySelector(".calculating__result span");let t,n,o,a,c;function s(){e.textContent=t&&n&&o&&a&&c?"woman"===t?Math.round((447.6+9.2*a+3.1*o-4.3*c)*n):Math.round((88.36+13.4*a+4.8*o-5.7*c)*n):"____"}function r(e,t){document.querySelectorAll(`${e} div`).forEach((e=>{e.classList.remove(t),e.getAttribute("id")===localStorage.getItem("sex")&&e.classList.add(t),e.getAttribute("data-ratio")===localStorage.getItem("ratio")&&e.classList.add(t)}))}function i(e,o){const a=document.querySelectorAll(`${e} div`);a.forEach((e=>{e.addEventListener("click",(e=>{e.target.getAttribute("data-ratio")?(n=+e.target.getAttribute("data-ratio"),localStorage.setItem("ratio",+e.target.getAttribute("data-ratio"))):(t=e.target.getAttribute("id"),localStorage.setItem("sex",e.target.getAttribute("id"))),a.forEach((e=>{e.classList.remove(o)})),e.target.classList.add(o),s()}))}))}function l(e){const t=document.querySelector(e);t.addEventListener("input",(e=>{t.value.match(/\D/)?t.style.border="1px solid red":t.style.border="none";const n=e.target.getAttribute("id");"height"==n&&(o=+e.target.value),"weight"==n&&(a=+e.target.value),"age"==n&&(c=+e.target.value),s()}))}localStorage.getItem("sex")?t=localStorage.getItem("sex"):(t="woman",localStorage.setItem("sex","woman")),localStorage.getItem("ratio")?n=localStorage.getItem("ratio"):(n=1.375,localStorage.setItem("ratio",1.375)),s(),r("#gender","calculating__choose-item_active"),r(".calculating__choose_big","calculating__choose-item_active"),i("#gender","calculating__choose-item_active"),i(".calculating__choose_big","calculating__choose-item_active"),l("#height"),l("#weight"),l("#age")}()}))})();
//# sourceMappingURL=bundle.js.map