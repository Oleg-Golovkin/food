!function(){"use strict";function e(e){const t=document.querySelector("[data-modal]"),n=document.querySelector(".modal__content");n.remove();const o=document.createElement("div");document.querySelector(".modal__dialog").append(o),o.classList.add("modal__content"),o.innerHTML=`\n    <div data-close class="modal__close">&times;</div>\n    <div class="modal__title">${e}</div> \n    <img src="icons/spinner.svg" alt="spinner">\n    `,o.querySelector("img").style.cssText="display: block;\n    margin: 10px auto;",setTimeout((function(){t.classList.add("hide"),t.classList.remove("show"),o.remove(),document.querySelector(".modal__dialog").append(n)}),2e3)}document.addEventListener("DOMContentLoaded",(()=>{var t;!function(){const e=document.querySelector(".tabheader__items"),t=document.querySelectorAll(".tabheader__item"),n=document.querySelectorAll(".tabcontent");function o(){n.forEach((e=>{e.classList.add("hide"),e.classList.remove("show","fade")})),t.forEach((e=>{e.classList.remove("tabheader__item_active")}))}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t[e].classList.add("tabheader__item_active"),n[e].classList.add("show","fade"),n[e].classList.remove("hide")}o(),a(),e.addEventListener("click",(e=>{e.target&&e.target.classList.contains("tabheader__item")&&t.forEach(((t,n)=>{e.target==t&&(o(),a(n))}))}))}(),function(e){let{slideWapper:t,slideItem:n,nextSlideItem:o,prevSlideItem:a}={slideItem:".offer__slide",nextSlideItem:".offer__slider-next",prevSlideItem:".offer__slider-prev",slideWapper:".offer__slider"};const s=document.querySelectorAll(n),c=document.querySelector(t),r=document.querySelector(o),l=document.querySelector(a),i=document.querySelector(".offer__slider-wrapper-2"),d=document.querySelector(".offer__slider-wrapper"),u=document.querySelector("#total"),m=document.querySelector("#current"),h=window.getComputedStyle(d).width;let g=[],f=0,_=1;function y(e){return+e.replace(/\D/g,"")}c.style.position="relative",i.style.width=100*s.length+"%",i.style.transition="0.5s all",s.length<10?(u.textContent=`0${s.length}`,m.textContent=`0${_}`):(u.textContent=s.length,m.textContent=_);const v=setInterval((function(){f==y(h)*(s.length-1)?f=0:f+=y(h),i.style.transform=`translateX(-${f}px)`,_==s.length?_=1:_++,g.forEach((e=>e.style.opacity="0.5")),g[_-1].style.opacity="1",s.length<10?m.textContent=`0${_}`:m.textContent=_}),2e3);r.addEventListener("click",(()=>{clearInterval(v),f==y(h)*(s.length-1)?f=0:f+=y(h),i.style.transform=`translateX(-${f}px)`,_==s.length?_=1:_++,g.forEach((e=>e.style.opacity="0.5")),g[_-1].style.opacity="1",s.length<10?m.textContent=`0${_}`:m.textContent=_})),l.addEventListener("click",(()=>{clearInterval(v),0==f?f=y(h)*(s.length-1):f-=y(h),i.style.transform=`translateX(-${f}px)`,1==_?_=s.length:_--,g.forEach((e=>e.style.opacity="0.5")),g[_-1].style.opacity="1",s.length<10?m.textContent=`0${_}`:m.textContent=_}));const p=document.createElement("ol");p.classList.add("carousel-indicators"),c.append(p);for(let e=0;e<s.length;e++){const t=document.createElement("li");t.setAttribute("data-carousel-indicators",e+1),t.classList.add("dot"),p.append(t),0==e&&(t.style.opacity="1"),g.push(t)}g.forEach((e=>{e.addEventListener("click",(()=>{let t=e.getAttribute("data-carousel-indicators");_=t,f=y(h)*(t-1),i.style.transform=`translateX(-${f}px)`,g.forEach((e=>e.style.opacity="0.5")),e.style.opacity="1",s.length<10?m.textContent="0"+ +_:m.textContent=+_}))}))}(),function(){function e(e){return e>0&&e<10?"0"+e:e}!function(t,n){const o=document.querySelector(".timer"),a=o.querySelector("#days"),s=o.querySelector("#hours"),c=o.querySelector("#minutes"),r=o.querySelector("#seconds"),l=setInterval(i,1e3);function i(){const t=function(e){const t=Date.parse("2023-03-31")-Date.parse(new Date);return{total:t,days:Math.floor(t/1e3/60/60/24),hours:Math.floor(t/1e3/60/60%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}();a.innerHTML=e(t.days),s.innerHTML=e(t.hours),c.innerHTML=e(t.minutes),r.innerHTML=e(t.seconds),t.total<=0&&clearInterval(l)}i()}()}(),function(){const e=document.querySelectorAll('[data-btn="1"]'),t=document.querySelector("[data-modal]"),n=document.querySelector("[data-close]");function o(){t.classList.add("show"),t.classList.remove("hide")}function a(){t.classList.add("hide"),t.classList.remove("show")}e.forEach((e=>{e.addEventListener("click",(()=>{o()}))})),n.addEventListener("click",a),t.addEventListener("click",(e=>{e.target===t&&a()})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&t.classList.contains("show")&&a()}));const s=setInterval((function(){o(),clearInterval(s)}),2e3);window.addEventListener("scroll",(()=>{window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&o()})),window.addEventListener("scroll",(()=>{var e=window.pageYOffset/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;document.getElementById("myBar").style.width=e+"%"})),window.addEventListener("scroll",(()=>{400==window.pageYOffset&&o()}))}(),function(){class e{constructor(e,t,n,o,a,s){this.img=t,this.h3=o,this.menuItemDescr=a,this.menuItemTotalSpan=s;for(var c=arguments.length,r=new Array(c>6?c-6:0),l=6;l<c;l++)r[l-6]=arguments[l];this.selector=r,this.parent=document.querySelector(e),this.altimg=n}NewMenuItem(){const e=document.createElement("div");0==this.selector.length?(this.selector="menu__item",e.classList.add(this.selector)):this.selector.forEach((t=>{e.classList.add(this.selector)})),e.innerHTML+=`   <img src= ${this.img} alt=${this.altimg}>\n                    <h3 class="menu__item-subtitle">${this.h3}</h3>\n                    <div class="menu__item-descr">${this.menuItemDescr}</div>\n                    <div class="menu__item-divider"></div>\n                    <div class="menu__item-price">\n                        <div class="menu__item-cost">Цена:</div>\n                        <div class="menu__item-total"><span>${this.menuItemTotalSpan}</span>гр/день</div>\n                    </div>`,this.parent.append(e)}}fetch("http://localhost:3000/menu").then((e=>e.json())).then((t=>{t.forEach((t=>{new e(".menu .container",t.img,t.altimg,t.title,t.descr,t.price).NewMenuItem()}))}))}(),t="form",document.querySelectorAll(t).forEach((t=>{var n;(n=t).addEventListener("submit",(t=>{t.preventDefault();const o=new FormData(n);(async(e,t)=>{let n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:t});return await n.json()})(0,JSON.stringify(Object.fromEntries(o.entries()))).then((t=>{console.log(t),e("Данные отправлены. Вскоре мы с Вами свяжемся!")})).catch((()=>{e("Ошибка")})).finally((()=>{n.reset()}))}))})),function(){const e=document.querySelector(".calculating__result span");let t,n,o,a,s;function c(){e.textContent=t&&n&&o&&a&&s?"woman"===t?Math.round((447.6+9.2*a+3.1*o-4.3*s)*n):Math.round((88.36+13.4*a+4.8*o-5.7*s)*n):"____"}function r(e,t){document.querySelectorAll(`${e} div`).forEach((e=>{e.classList.remove(t),e.getAttribute("id")===localStorage.getItem("sex")&&e.classList.add(t),e.getAttribute("data-ratio")===localStorage.getItem("ratio")&&e.classList.add(t)}))}function l(e,o){const a=document.querySelectorAll(`${e} div`);a.forEach((e=>{e.addEventListener("click",(e=>{e.target.getAttribute("data-ratio")?(n=+e.target.getAttribute("data-ratio"),localStorage.setItem("ratio",+e.target.getAttribute("data-ratio"))):(t=e.target.getAttribute("id"),localStorage.setItem("sex",e.target.getAttribute("id"))),a.forEach((e=>{e.classList.remove(o)})),e.target.classList.add(o),c()}))}))}function i(e){const t=document.querySelector(e);t.addEventListener("input",(e=>{t.value.match(/\D/)?t.style.border="1px solid red":t.style.border="none";const n=e.target.getAttribute("id");"height"==n&&(o=+e.target.value),"weight"==n&&(a=+e.target.value),"age"==n&&(s=+e.target.value),c()}))}localStorage.getItem("sex")?t=localStorage.getItem("sex"):(t="woman",localStorage.setItem("sex","woman")),localStorage.getItem("ratio")?n=localStorage.getItem("ratio"):(n=1.375,localStorage.setItem("ratio",1.375)),c(),r("#gender","calculating__choose-item_active"),r(".calculating__choose_big","calculating__choose-item_active"),l("#gender","calculating__choose-item_active"),l(".calculating__choose_big","calculating__choose-item_active"),i("#height"),i("#weight"),i("#age")}()}))}();
//# sourceMappingURL=bundle.js.map